### Java Reflection

Reflection?
- 리플렉션은 heap 영역에 로드된 Class 타입의 객체를 통해, 원하는 클래스의 인스턴스를 생성할 수 있도록 지원
- 여기서 로드된 클래스는 JVM의 클래스 로더에 의해 해당 클래스의 정보를 담은 Class 타입의 객체를 heap 영역에 저장해 둔 것을 의미

Reflection 사용 방법
```agsl
Class<Student> studentClass = Student.class;

var student = new Student();
var = student.getClass();

var = Class.forName("{패키지명}.Student");
```

위 3가지 방법으로 가져온 Class 타입의 인스턴스는 모두 같다. (해시 값을 통해 확인)
이렇게 가져온 Class 타입의 클래스는 인스턴스를 생성할 수도 있으며, 인스턴스의 필드와 메소드를 사용할때 접근제어자와 상관 없이 사용 가능하다.

장,단점
- 장점
    - 런타임 시점에 클래스의 인스턴스 생성 및 접근제어자와 관계없이 필드와 메소드에 접근할 수 있다.
- 단점
    - 객체지향적인 개념(캡술화, 접근제어)등을 해칠 우려가 있기에 매무 제한되며 적절한 사용이 필요하다.
    - 컴파일 타임 타입검사가 주는 이점을 누를 수 없다.
    - 코드의 의미가 불분명해질수 있다.
    - 리플렉션을 통한 메서드 호출은 일반 메서드 호출보다 훨씬 느리다.

** Effective Java 규칙 53  
명실할 것은, 일반적인 프로그램은 프로그램 실행 중에 리플렉션을 통해 객체를 이용하려 하면 안된다.  
하지만 리플렉션을 아주 제한적으로만 사용하면 오버헤드는 피하면서 리플렉션의 다양한 장점을 누릴 수 있다.

Spring의 Reflection 사용
- Spring에서 어노테이션으로 Bean을 등록할 때, 해당 어노테이션이 붙은 클래스를 탐색한후 Reflection을 이용해서 인스턴스를 생성한다.